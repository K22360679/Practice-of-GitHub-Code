<!DOCTYPE html>
<html lang="ja">
    <head>
        <title>PyScriptとChartJsの組み合わせテスト</title>
        <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    </head>
    <body>
        <canvas id="Graph"></canvas>
        <script>
            function graph(l,d){
                lb=Array.from(l)
                da=Array.from(d)
                document.write(lb+" "+da+"<br>")
                var ctx=document.getElementById("Graph");
                var Graph=new Chart(ctx,{
                    type:'bar',
                    data:{
                        labels:["1","2","3"],
                        datasets:[
                            {
                                label:'数値',
                                data:[1,2,3]
                            }
                        ]
                    },
                    options:{
                        scales:{
                            yAxes:[{
                                ticks:{
                                    suggestedMax:10,
                                    suggestedMin:0,
                                }
                            }]
                        },
                    }
                });
                document.title="PythonからChartJsに変数を渡すテスト"
                document.write("<p><a href=\"index.html\">戻る</a></p>")
            }
        </script>
        <py-script>
            import js
            labels=["Data1","Data2","Data3"]
            data=[1,2,3]
            js.graph(labels,data)
        </py-script>
    </body>
</html>